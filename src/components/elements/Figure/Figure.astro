---
import type { HTMLAttributes } from 'astro/types';
import AstroCode from './Code.astro';
import AstroVideo from './Video.astro'

type Props = HTMLAttributes<'figure'> & {
  'data-rehype-pretty-code-figure'?: '';
  'data-remark-video-figure'?: '';
};

const props = Astro.props;
const isCodeFigure = Object.hasOwn(props, 'data-rehype-pretty-code-figure');
const isVideoFigure = Object.hasOwn(props, 'data-remark-video-figure');
---

{
  isCodeFigure ? (
    <AstroCode {...props}>
      <slot />
    </AstroCode>
  ) : isVideoFigure ? (
    <AstroVideo {...props}>
      <slot />
    </AstroVideo>
  ) : (
    <figure {...props}>
      <slot />
    </figure>
  )
}
