---
draft: published
level: 2
type: blog
title: Remark ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€Œremark-cardã€ã‚’è‡ªä½œã—ã¦ Astro è£½ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ä½¿ã£ã¦ã¿ãŸ
publishedAt: 2024-11-26T01:30:34.391Z
fmContentType: blog
modifiedAt: 2025-01-15T00:30:39.544Z
category:
  metadata: ja/categories
  slug: attempt
tags:
  metadata: ja/tags
  slugList:
    - typescript
    - astro
    - markdown
description: å¤æ¥ã€æˆ‘ã€…ã¯ã‚«ãƒ¼ãƒ‰ã®å½¢ã‚’ã—ãŸã‚‚ã®ã«ç›®ãŒãªã„ã€‚ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯ãã£ã¡ã®ã‘ã§ã‚«ãƒ¼ãƒ‰ã®æ–¹ã«ç›®ã‚’å¥ªã‚ã‚Œã¦ã—ã¾ã†ã€‚ã¨ã“ã‚ãŒã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã«ã¯ã‚«ãƒ¼ãƒ‰ã®æ§‹æ–‡ãªã©å­˜åœ¨ã—ãªã„ã€‚ãã‚Œãªã‚‰ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§æ‹¡å¼µã™ã‚Œã°ã„ã„ã˜ã‚ƒãªã„ï¼Ÿ
thumbnail: ğŸ§©ğŸš€ğŸ› ï¸ãƒ½(`Ğ”Â´)ï¾‰
---

## å°å…¥

{/* textlint-disable ja-technical-writing/ja-no-mixed-period */}
å¹¼ã„é ƒã‹ã‚‰ã€é­”æ³•ä½¿ã„ã«ãªã‚‹ã“ã¨ã‚’å¤¢è¦‹ã¦ã„ãŸâ”€â”€

ã“ã®åº¦ã€ã‚ˆã†ã‚„ããã®å¿µé¡˜ãŒå¶ã£ãŸã€‚
ã—ã‹ã—ãã®èƒ½åŠ›ã¯é™å®šçš„ã§ã€ãƒªãƒ³ã‚´ã‚’ã‚¢ãƒƒãƒ—ãƒ«ãƒ‘ã‚¤ã«å¤‰ãˆãŸã‚Šã€å«Œã„ãªäººã‚’ãƒãƒªãƒ¢ãƒƒã‚³ãƒªã«å¤‰ãˆãŸã‚Šã¯ã§ããªã„ã€‚ä»£ã‚ã‚Šã«ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’æœ›ã¿é€šã‚Šã® HTML ã«å¤‰ãˆã‚‹ã“ã¨ãªã‚‰ã§ãã‚‹ã€‚

ã¨ã“ã‚ã§ã€Remark ã‚„ Rehype ã‚’æ“ã™ã‚‹æ–‡æ›¸å¤‰æ›ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã€Œ[Unified](https://unifiedjs.com/)ã€ã®ä¸‹ã§ã¯ã€ä¸–ç•Œå„åœ°ã«ç‚¹åœ¨ã™ã‚‹æœ‰å¿—ãŸã¡ã«ã‚ˆã£ã¦ã€æ•°å¤šã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæ—¥å¤œé–‹ç™ºãƒ»ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ã‚‹ã€‚
ã—ã‹ã—èª¿ã¹ãŸé™ã‚Šã§ã¯ã€ã€Œãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¸Šã«ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜æ³•ã§å¬å–šã§ãã‚‹ã€ã¨è¬³ã†ã‚‚ã®ã¯å­˜åœ¨ã—ãªã‹ã£ãŸã€‚[^1]

[^1]: ã‚«ãƒ¼ãƒ‰ã¯ã‚«ãƒ¼ãƒ‰ã§ã‚‚ã€ãƒªãƒ³ã‚¯ã‚«ãƒ¼ãƒ‰ãªã‚‰æ²¢å±±ãƒ’ãƒƒãƒˆã—ãŸã®ã ãŒãƒ»ãƒ»ã€‚

ãã†ã„ã†è¨³ã§ã€ç„¡ã„ãªã‚‰è‡ªåˆ†ã§ä½œã‚ã†ã¨ã„ã†ã“ã¨ã«ç›¸æˆã£ãŸã€‚ä»Šãªã‚‰ã€ç©ºã ã£ã¦é£›ã¹ã‚‹æ°—ãŒã™ã‚‹ã€‚

### æƒ³å®šèª­è€…

- Remark ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è‡ªåˆ†ã§ä½œã£ã¦ã¿ãŸã„
- `remark-card`ã«èˆˆå‘³ãŒã‚ã‚‹
- ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³/MDX ã®ãƒ–ãƒ­ã‚°ã«å½©ã‚Šã‚’æ·»ãˆã‚ˆã†ã¨èºèµ·ã«ãªã£ã¦ã„ã‚‹

### ç¾æ™‚ç‚¹ã§ã®ç§ã®ç¿’ç†Ÿåº¦

è¨˜äº‹åŸ·ç­†æ™‚ç‚¹ã§ã®ç§ã®ç¿’ç†Ÿåº¦ã¯æ¬¡ã®é€šã‚Šã€‚

- ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦è¨ˆ 3 å¹´ã®çµŒé¨“ã‚ã‚Š(å‹¤ç¶šã§ã¯ãªã„)
- JavaScriptã€TypeScript ã¨ã¯ã‹ã‚Œã“ã‚Œ 4 å¹´ç¨‹ã®ä»˜ãåˆã„ã«ãªã‚‹
- NPM ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯å…¬é–‹ã—ãŸã“ã¨ãŒãªã„

## æœ¬é¡Œ

Github ãƒªãƒã‚¸ãƒˆãƒªã¯ã“ã¡ã‚‰ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã«ã¤ã„ã¦ã¯ README ã«èªã‚ã¦ã‚ã‚‹ã®ã§ã€ã“ã“ã§ã¯è§¦ã‚Œãªã„ã€‚

https://github.com/brklntmhwk/remark-card

### ä½¿ã„æ–¹

`remark-card`ã¯`card-grid`ã€`card`ã® 2 ã¤ã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³æ–¹è¨€ã‚’æä¾›ã™ã‚‹ã€‚
å‰è€…ã¯ã‚«ãƒ¼ãƒ‰ã‚’è¤‡æ•°è¡¨ç¤ºã™ã‚‹å ´åˆã«ãƒ©ãƒƒãƒ‘ãƒ¼ã®å½¹å‰²ã‚’æœãŸã—ã€å¾Œè€…ã¯ã‚«ãƒ¼ãƒ‰å˜ä½“ã§ã‚ã‚‹ã€‚

> [!note]
> ä»¥é™ã®å…·ä½“ä¾‹ã§ã¯ã€ç°¡å˜ã®ãŸã‚ã€HTML ã«é™ã£ã¦æœ¬è¨˜äº‹ã®è¶£æ—¨ã‹ã‚‰å¤–ã‚Œã‚‹è¨˜è¿°(`class`ç­‰)ã‚’å‰Šãè½ã¨ã—ã¦ã„ã‚‹ã€‚

#### card

ã¾ãšã‚«ãƒ¼ãƒ‰å˜ä½“ã®è¨˜æ³•ã¯ã“ã¡ã‚‰ã€‚

```txt title="Markdown"
:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev
:::
```

ã“ã‚ŒãŒã‚¤ã‚¤æ„Ÿã˜ã® HTML ã«å¤‰æ›ã•ã‚Œãƒ»ãƒ»ã€‚

```html title="HTML"
<div>
  <div class="image-container">
    <figure>
      <picture>
        <source srcset="...">
        <source srcset="...">
        <img src="..." alt="younagi.dev">
      </picture>
      <figcaption>younagi.dev</figcaption>
    </figure>
  </div>
  <div class="content-container">
    younagi.dev
  </div>
</div>
```

æœ€çµ‚çš„ãªå‡ºåŠ›ã¯ã‚³ãƒ¬ã ã€‚

:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev
:::

#### card-grid

æ¬¡ã«ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ã®ä¸­ã«è¤‡æ•°ã®ã‚«ãƒ¼ãƒ‰ã‚’ä¸¦ã¹ã¦ã¿ã‚ˆã†ã€‚

```txt title="Markdown"
::::card-grid
:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev å…¶ã®ä¸€
:::
:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev å…¶ã®äºŒ
:::
:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev å…¶ã®ä¸‰
:::
::::
```

ã“ã‚ŒãŒ HTML ã«å¤‰æ›ã•ã‚Œã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚

```html title="HTML"
<div>
  <div>
    <div class="image-container">
      <figure>
        <picture>
          <source srcset="...">
          <source srcset="...">
          <img src="..." alt="younagi.dev å…¶ã®ä¸€">
        </picture>
        <figcaption>younagi.dev å…¶ã®ä¸€</figcaption>
      </figure>
    </div>
    <div class="content-container">
      younagi.dev å…¶ã®ä¸€
    </div>
  </div>
  <div>
    <div class="image-container">
      <figure>
        <picture>
          <source srcset="...">
          <source srcset="...">
          <img src="..." alt="younagi.dev å…¶ã®äºŒ">
        </picture>
        <figcaption>younagi.dev å…¶ã®äºŒ</figcaption>
      </figure>
    </div>
    <div class="content-container">
      younagi.dev å…¶ã®äºŒ
    </div>
  </div>
  <div>
    <div class="image-container">
      <figure>
        <picture>
          <source srcset="...">
          <source srcset="...">
          <img src="..." alt="younagi.dev å…¶ã®ä¸‰">
        </picture>
        <figcaption>younagi.dev å…¶ã®ä¸‰</figcaption>
      </figure>
    </div>
    <div class="content-container">
      younagi.dev å…¶ã®ä¸‰
    </div>
  </div>
</div>
```

ãã—ã¦æœ€çµ‚çš„ãªå‡ºåŠ›ã¯ã“ã¡ã‚‰ã€‚

::::card-grid
:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev å…¶ã®ä¸€
:::
:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev å…¶ã®äºŒ
:::
:::card
![younagi.dev](../../../assets/images/younagidev.jpg)
younagi.dev å…¶ã®ä¸‰
:::
::::

#### Astro ã§ä½¿ã†

å®Ÿã¯ã€å½“ã‚µã‚¤ãƒˆã§ã‚‚æ—¢ã«ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒéšæ‰€ã«é¤ã‚ã‚‰ã‚Œã¦ã„ã‚‹ã€‚

https://younagi.dev/ja/work/

Astro ã§ Remark ã‚„ Rehype ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ã«ã¯ã€ãƒ«ãƒ¼ãƒˆç›´ä¸‹ã«ã‚ã‚‹å°‚ç”¨ã®ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã§ä¸‹è¨˜ã®æ‰‹ç¶šããŒå¿…è¦ã¨ãªã‚‹ã€‚

```ts title="astro.config.ts" {2,10-19}
import { defineConfig /* ... */ } from "astro/config";
import remarkCard, { type Config as RemarkCardConfig } from 'remark-card';
// ...

export default defineConfig({
  // ...
  markdown: {
    remarkPlugins: [
      // ...
      [
        remarkCard,
        {
          customHTMLTags: {
            enabled: true,
          },
          cardGridClass: 'card-grid',
          cardClass: 'card',
        } satisfies RemarkCardConfig,
      ],
      // ...
    ],
    // ...
  }
  // ...
});
```

ä¸€å¿œã“ã‚Œã ã‘ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯å‹•ãã‚ˆã†ã«ãªã‚‹ã®ã ãŒã€Astro ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã£ã¦ HTML ã‚¿ã‚°ã‚„ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç´°ã‹ãèª¿æ•´ã—ãŸã„å ´åˆã¯ã€ã‚‚ã†ã²ã¨æ‰‹é–“å¿…è¦ã¨ãªã‚‹ã€‚

ç§ã®å ´åˆã€`remark-card`ã«ã‚ˆã£ã¦`card`ã€`card-grid`ã‚¿ã‚°ã«å¤‰æ›ã•ã‚ŒãŸç®‡æ‰€ã‚’ã€æ›´ã«ãã‚Œãã‚Œ`Card.astro`ã€`CardGrid.astro`ã¸ã¨å¤‰æ›ã—ã¦ã„ã‚‹ã€‚è©³ç´°ã¯ä¸‹è¨˜ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã¦ã»ã—ã„ã€‚

https://github.com/brklntmhwk/younagi.dev/tree/main/src/components/elements/Card

ãã—ã¦ [MDX ã®ä½œæ³•](https://docs.astro.build/ja/guides/integrations-guide/mdx/#custom-components-with-imported-mdx)ã«å€£ã„ã€ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦`<Content />`ã‚¿ã‚°ã«ã“ã‚Œã‚‰ã‚’å¼•ãæ¸¡ã›ã°å–å¼•å®Œäº†ã ã€‚ä¸‹è¨˜ãŒãã®ä¸€ä¾‹ã§ã‚ã‚‹ã€‚

```ts title="~/lib/mdx-components.ts"
import { Card, CardGrid } from '@/components/elements/Card';
// ...

export const mdxComponents = {
  // ...
  card: Card,
  'card-grid': CardGrid,
  // ...
};
```

```astro title="~/pages/blog/[slug].astro"
---
import BlogLayout from '@/layouts/BlogLayout.astro';
import { mdxComponents } from '@/lib/mdx-components';
import type { GetStaticPaths } from 'astro';
// ...

export const getStaticPaths = (async () => {
  // ...
}) satisfies GetStaticPaths;

const { entry } = Astro.props;
const { Content, headings } = await entry.render();
---

<BlogLayout entry={{ ...entry }} {headings}>
  <Content components={mdxComponents} />
</BlogLayout>
```

### é–‹ç™ºå¾Œè¨˜

ã“ã®ã¾ã¾ã§ã¯ README ã¨æ›¸ã„ã¦ã‚ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©å¤‰ã‚ã‚‰ãªã„ã®ã§ã€æŠ€è¡“é¸å®šã«ã¤ã„ã¦å°‘ã—çœŸé¢ç›®ã«æŒ¯ã‚Šè¿”ã‚ã†ã¨æ€ã†ã€‚

- è¨€èª: ~~JavaScript~~ TypeScript
  - å‹ãŒãªã„ã¨ç”Ÿã¾ã‚ŒãŸã¦ã®å°é¹¿ã®ã‚ˆã†ã«è¶³å…ƒãŒè¦šæŸãªããªã‚‹ãŸã‚ TypeScript ã§æ›¸ãã“ã¨ã«ã—ãŸ
  - ~~CommonJS~~ ESM ã®ä½œæ³•ã«å€£ã£ã¦æ›¸ã„ã¦ã„ã‚‹
- ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜æ³•: [Generic directives/plugins syntax](https://talk.commonmark.org/t/generic-directives-plugins-syntax/444)
  - ã¯ã˜ã‚ã¯çŸ¥ã‚‹äººãŒè¦‹ãŸã‚‰ã²ã£ãã‚Šè¿”ã‚‹ã‚ˆã†ãªãƒ‰æ–¹è¨€ã‚’ç·¨ã¿å‡ºã—ã€é–‹ç™ºã‚’é€²ã‚ã¦ã„ãŸãŒã€ã‚ˆã‚Šä¸€èˆ¬ã«æµ¸é€ã—ã¦ã„ãã†ãªã“ã¡ã‚‰ã®è¨˜æ³•ã«æ–¹å‘è»¢æ›
  - `:::`ã‚„`::::`ãªã©
- ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ & ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£: [Bun](https://bun.sh/)
  - JavaScript ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã€ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ã€ã¨è¤‡æ•°ã®é¡”ã‚’ä½µã›æŒã¤è‚‰ã¾ã‚“å›
  - ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒ [Jest](https://jestjs.io/ja/) äº’æ›ã§é¦´æŸ“ã¿ãŒã‚ã‚Šã€ç§»è¡Œã—ã‚„ã™ã„
  - ç›®æ–°ã—ã•ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®é«˜ã•ã«æƒ¹ã‹ã‚Œã€æ¡ç”¨

é–‹ç™ºã«ã‚ãŸã‚Šã€å…ˆäººãŸã¡ã®è¨˜ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æµ´ã³ã‚‹ã‚ˆã†ã«æ‘‚å–ã—ãŸã®ã ãŒã€å¤§åŠãŒ JavaScript ã« JSDoc ã®çµ„ã¿åˆã‚ã›ã§æ›¸ã‹ã‚Œã¦ã„ãŸã€‚
è£½å“ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå ´åˆã¯ç·ã˜ã¦ã“ã®çµ„ã¿åˆã‚ã›ã®æ–¹ãŒè‰¯ã„ã¨æ€ã† [^2] ãŒã€ä»Šå›ã¯é›¶ç´°ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãªã®ã§æ…£ã‚Œè¦ªã—ã‚“ã  TypeScript ã§æ›¸ãã“ã¨ã«ã—ãŸã€‚

[^2]: TypeScript ã§æ›¸ã‹ãªã„ç‚ºã€ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã®æ‰‹é–“ãŒçœã‘ã‚‹ã€‚ã—ã‹ã—åŒæ™‚ã«ã€JSDoc ã®è£œåŠ©æ©Ÿèƒ½ã«ã‚ˆã‚Šå‹å®šç¾©ã®æ©æµã«ä¸ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚
æ›´ã« JSDoc ã«ã¯å…ƒã€…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å´é¢ã‚‚ã‚ã‚Šã€ãã®ä½œæ³•ã«å‰‡ã£ã¦æ›¸ãã ã‘ã§èª­ã¿æ‰‹ã¨ã‚³ãƒ¼ãƒ‰ã®æ„å›³ã«ã¤ã„ã¦ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå–ã‚Šã‚„ã™ã„ã€‚

## çµã³

å®Ÿã¯`remark-card`ã®å¾Œã€ç«‹ã¦ç¶šã‘ã«`remark-video`ã¨ã„ã† Remark ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚‚é–‹ç™ºãƒ»ãƒªãƒªãƒ¼ã‚¹ã—ãŸã€‚

https://github.com/brklntmhwk/remark-video

å½“åˆã¯ãã¡ã‚‰ã‚‚è¨˜äº‹ã«ã—ã‚ˆã†ã¨ç”»ç­–ã—ã¦ã„ãŸãŒã€`remark-card`ç¨‹ã®æ‰‹é–“ãŒã‹ã‹ã£ã¦ãŠã‚‰ãšã€ã‚ã¾ã‚Šæ›¸ãã“ã¨ã‚‚ãªã„ãŸã‚æ–­å¿µã—ãŸã€‚[^3]

[^3]: æœ‰ã‚Šä½“ã«è¨€ãˆã°ã€é¢å€’ãã•ããªã£ãŸã ã‘ã§ã‚ã‚‹ã€‚
